{
  "name": "vinyl-map",
  "description": "Map vinyl files' contents as strings, so you can easily use existing code without needing yet another gulp plugin!",
  "version": "1.0.1",
  "main": "index.js",
  "dependencies": {
    "through2": "^0.4.1",
    "bl": "^0.7.0",
    "new-from": "0.0.3"
  },
  "devDependencies": {
    "tape": "~2.3.2",
    "vinyl": "~0.2.1",
    "uglify-js": "~2.4.12",
    "gulp": "~3.5.2"
  },
  "scripts": {
    "test": "node test"
  },
  "author": {
    "name": "Hugh Kennedy",
    "email": "hughskennedy@gmail.com",
    "url": "http://hughsk.io/"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git://github.com/hughsk/vinyl-map"
  },
  "bugs": {
    "url": "https://github.com/hughsk/vinyl-map/issues"
  },
  "homepage": "https://github.com/hughsk/vinyl-map",
  "keywords": [
    "vinyl",
    "gulp",
    "gulpfriendly",
    "file",
    "stream",
    "map"
  ],
  "readme": "# vinyl-map [![Flattr this!](https://api.flattr.com/button/flattr-badge-large.png)](https://flattr.com/submit/auto?user_id=hughskennedy&url=http://github.com/hughsk/vinyl-map&title=vinyl-map&description=hughsk/vinyl-map%20on%20GitHub&language=en_GB&tags=flattr,github,javascript&category=software)[![experimental](http://hughsk.github.io/stability-badges/dist/experimental.svg)](http://github.com/hughsk/stability-badges) #\n\nMap [vinyl](https://github.com/wearefractal/vinyl) files' contents as strings,\nso you can easily use existing code without needing yet another\n[gulp](https://github.com/gulpjs/gulp) plugin!\n\nEssentially, with the hope of reducing the number of gulp plugins out there\nwhich are *just* doing this:\n\n``` javascript\nvar through = require('through')\nvar uglify = require('uglify-js')\n\nmodule.exports = function() {\n  return through(function(file) {\n    if (file.isNull()) return this.queue(file)\n    if (file.isStream()) throw new Error('no support')\n\n    file.contents = file.contents.toString()\n\n    var minified = uglify.minify(file.contents, {\n      fromString: true\n    })\n\n    file = file.clone()\n    file.contents = new Buffer(minified.code)\n    this.queue(file)\n  })\n}\n```\n\nOf course, sometimes that's fine too, but this might help save some complexity\nfor when it's too much hassle. It also takes care of the differences between\nhandling Buffer, Stream and null values for your `file.contents`.\n\n## Usage ##\n\n[![vinyl-map](https://nodei.co/npm/vinyl-map.png?mini=true)](https://nodei.co/npm/vinyl-map)\n\nHere's a simple example, using gulp:\n\n``` javascript\nvar uglify = require('uglify-js')\nvar map = require('vinyl-map')\nvar gulp = require('gulp')\n\ngulp.task('minify', function() {\n  var minify = map(function(code, filename) {\n    // file contents are handed\n    // over as buffers\n    code = code.toString()\n\n    return uglify.minify(code, {\n      fromString: true\n    }).code\n  })\n\n  return gulp.src(['./index.js'])\n    .pipe(minify)\n    .pipe(gulp.dest('./dist'))\n})\n\n```\n\n## API ##\n\n### `map(mapper(contents, filename))` ###\n\nReturns a transform stream that takes vinyl files as input and spits out\ntheir modified copies as output.\n\n`mapper` is a function which will be called once for each file, with two\narguments:\n\n* `contents` is a string or [Buffer](http://nodejs.org/api/buffer.html)\n* `filename` is the value of `file.path`, which should generally be the file's\n  absolute path. Might be convenient if you want to filter based on file\n  extension etc.\n\nThe `mapper` function is expected to return a modified string value for the\nupdated file contents. If nothing is returned, no modifications will be made\nto the file contents, but the output file will be cloned.\n\n## License ##\n\nMIT. See [LICENSE.md](http://github.com/hughsk/vinyl-map/blob/master/LICENSE.md) for details.\n",
  "readmeFilename": "README.md",
  "_id": "vinyl-map@1.0.1",
  "_from": "vinyl-map@^1.0.1"
}
